<!-- Class Content -->
<div class="row mt-4">
    <div *ngFor="let c of classes$" class="col-sm-12 col-md-4">
        <div class="card mb-4">
            <div class="card-body text-center">
                <h4 class="card-title">{{c["class-name"]}}</h4>
                <h5 class="card-title">{{c.title}}</h5>
                <p class="card-text">Instructor: {{c.instructor}}</p>
                <p class="card-text">{{c["start-time"]}}~{{c["end-time"]}}, {{c.days}}</p>
                <p class="card-text">{{c.location}}</p>
                <a routerLink="/class/{{c._id}}" class="card-link">Class Detail</a>

            </div>
        </div>
    </div>
</div>

<!-- Modal for selecting class -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add a Class You Are Enrolling</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <!-- Select Department -->
                    <div class="form-group">
                        <mat-form-field *ngIf="modalFlag.deptName">
                            <input type="text" placeholder="Select the Department" aria-label="Number"
                                matInput [formControl]="modalDeptInputCtrl" id="dept-input"
                                [matAutocomplete]="auto">
                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                <mat-option *ngFor="let optDept of filteredDeptName | async" [value]="optDept">
                                    {{optDept}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>

                    <!-- Select Class -->
                    <div class="form-group">
                        <mat-form-field *ngIf="modalFlag.className">
                            <input type="text" placeholder="Select the Class" 
                                matInput [formControl]="modalClassInputCtrl" id="class-input"
                                [matAutocomplete]="auto">
                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                <mat-option *ngFor="let optClass of filteredClassName | async" [value]="optClass['class-name']">
                                    {{optClass['class-name']}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>

                    <!-- Select Section -->
                    <div class="mt-4 row" *ngIf="modalFlag.classSections">
                        <h5>Select the Section</h5>
                        <div *ngFor="let ac of addClasses$ | async" class="col-sm-12 col-md-6">
                            <div class="card mb-4" data-dismiss="modal" (click)="addClass(ac._id)">
                                <div class="card-body text-center">
                                    <h4 class="card-title">{{ac["class-name"]}}</h4>
                                    <h5 class="card-title">{{ac.title}}</h5>
                                    <p class="card-text">Instructor: {{ac.instructor}}</p>
                                    <p class="card-text">{{ac["start-time"]}}~{{ac["end-time"]}}, {{ac.days}}</p>
                                    <p class="card-text">{{ac.location}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
        
    </div>
</div>

<!-- Add Class Button -->
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="btn-group" (click)="addClassButtonOnClick()">
                <a class="btn btn-success btn-fab" data-toggle="modal" data-target="#myModal">
                    <i class="material-icons">
                        <svg style="width:24px;height:24px" viewBox="0 0 42 42">
                            <path fill="#ffffff" d="M37.059,16H26V4.941C26,2.224,23.718,0,21,0s-5,2.224-5,4.941V16H4.941C2.224,16,0,18.282,0,21s2.224,5,4.941,5H16v11.059
                            C16,39.776,18.282,42,21,42s5-2.224,5-4.941V26h11.059C39.776,26,42,23.718,42,21S39.776,16,37.059,16z" />
                        </svg>
                    </i>
                </a>
            </div>
        </div>
    </div>
</div>